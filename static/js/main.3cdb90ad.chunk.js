(this.webpackJsonppomodoro=this.webpackJsonppomodoro||[]).push([[0],{18:function(e,t,n){e.exports=n(27)},23:function(e,t,n){},27:function(e,t,n){"use strict";n.r(t);var r=n(0),i=n.n(r),o=n(8),a=n.n(o),c=(n(23),n(4)),s=n.n(c),u=n(9),l=n(10),f=n(11),m=n(15),d=n(16),v=n(2),g=n(1);function p(){var e=Object(v.a)(["\n  cursor: pointer;\n  display: flex;\n  alflex: 1;\n  padding: 1rem;\n  font-size: 1rem;\n  color: ",";\n  background: ",";\n  transition: all 0.5s ease;\n"]);return p=function(){return e},e}function h(){var e=Object(v.a)(["\n  display: flex;\n  margin-bottom: 1rem;\n"]);return h=function(){return e},e}var k=g.b.div(h()),b=g.b.div(p(),(function(e){return e.selected?"white":e.theme.color.text1}),(function(e){return e.selected?e.theme.color.text1:"white"})),w=function(e){var t=e.data,n=e.activeItem,r=e.onClick,o=function(e){return null===r||void 0===r?void 0:r.call(null,e)};return i.a.createElement(k,null,t.map((function(e){return i.a.createElement(b,{key:e,onClick:function(){return o(e)},selected:n===e},i.a.createElement("span",null,e))})))};function y(){var e=Object(v.a)(["\nborder: 1px solid ",";\nbackground: ",";\npadding: "," ",";\ncolor: white;\ncursor: pointer;\nfont-size: 2.25rem;\nfont-weight: 600;\ntext-transform: uppercase;\nborder-radius:  ",";\noutline: none;\n\n:hover {\n    background: '#444'\n}\n"]);return y=function(){return e},e}var x=g.b.button(y(),(function(e){return e.theme.color.primary}),(function(e){return e.theme.color.primary}),(function(e){return e.theme.spacing(4)}),(function(e){return e.theme.spacing(8)}),(function(e){return e.theme.spacing(1)})),L=n(17);function O(){var e=Object(v.a)(["\n  color: ",";\n  font-weight: bold;\n  font-size: 3rem;\n  font-family: 'courier prime', 'courier new', monospace;\n\n  @media (min-width: 500px) {\n    font-size: 8rem;\n  }\n"]);return O=function(){return e},e}var T,E=g.b.span(O(),(function(e){return e.theme.color.text2})),S=function(e,t){var n=t?Math.floor(e/36e5):0,r=Math.floor((e-36e5*n)/6e4),i=Math.ceil((e-(36e5*n+6e4*r))/1e3),o=function(e){return e.toString().padStart(2,"0")},a=t?0:1;return[o(n),o(r),o(i)].slice(a).join(":")},W=function(e){var t=e.time,n=e.showHours,r=Object(L.a)(e,["time","showHours"]);return i.a.createElement(E,r,S(t,n))};function B(){var e=Object(v.a)(["\n  display: flex;\n  flex-direction: column;\n  max-width: 30vw;\n  margin: 0 auto;\n  padding-top: 30vh;\n  align-items: center;\n"]);return B=function(){return e},e}var I=g.b.div(B()),N=["Working time","Short interval","Long interval"],j={workingTime:25,shortBreak:5,longBreak:15,timeLeft:15e5,running:!1,start:null,isBreak:!1,breakCount:0,maxBreaks:4,permission:null===(T=Notification)||void 0===T?void 0:T.permission,labels:N,activeLabel:N[0]},C=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(e){var r;return Object(l.a)(this,n),(r=t.call(this,e)).skipStep=function(){},r.handleMessage=function(e){var t=(null!==e&&void 0!==e?e:{}).data;if("NOTIFICATION_ACTION"===(null===t||void 0===t?void 0:t.type))return"skip"===t.action?r.skipStep():"start"===t.action?r.play():(r.setState({messagedata:e.data}),null)},r.updateTitle=function(){var e=r.state.timeLeft;document.title="(".concat(S(e),")")},r.getTime=function(){var e=r.state,t=e.isBreak,n=e.shortBreak,i=e.longBreak,o=e.workingTime,a=e.isLongBreak;return t?a?6e4*i:6e4*n:6e4*o},r.requestNotificationPermission=Object(u.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!("Notification"in window)){e.next=7;break}if("granted"===Notification.permission){e.next=7;break}return e.next=4,Notification.requestPermission();case 4:t=e.sent,r.setState({permission:t});case 7:case"end":return e.stop()}}),e)}))),r.tick=function(){var e=r.state,t=e.running,n=e.start,i=e.timeLeft;if(t&&i>0){var o=new Date,a=r.getTime()-(o.getTime()-n.getTime()),c=Math.max(a,0);r.timeId.current=setTimeout(r.tick,1e3),r.setState({timeLeft:c})}else r.stop()},r.setInitialTime=function(){var e=r.getTime();r.setState({timeLeft:e})},r.notify=function(){var e=r.state,t=e.permission,n=e.isBreak,i=e.isLongBreak;if("granted"===t){var o,a,c="NOTIFY_WORK";return n&&(c="NOTIFY_".concat(i?"LONG":"SHORT")),null===(o=navigator.serviceWorker)||void 0===o||null===(a=o.controller)||void 0===a?void 0:a.postMessage({type:c})}return null},r.play=function(){r.state.running||r.setState({running:!0,start:new Date})},r.getActiveLabel=function(e,t){var n=0===t,i=r.state.labels;return e?i[n?2:1]:i[0]},r.stop=function(){if(r.state.running){r.timeId.current&&(clearTimeout(r.timeId.current),r.timeId.current=null);var e=r.state,t=e.breakCount,n=e.maxBreaks,i=e.isBreak,o=(t+1)%n;r.setState({running:!1,start:null,isBreak:!i,breakCount:i?t:o,isLongBreak:!i&&0===o,activeLabel:r.getActiveLabel(!i,o)})}},r.state=j,r.timeId=i.a.createRef(),r}return Object(f.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.requestNotificationPermission(),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(){navigator.serviceWorker.addEventListener("message",e.handleMessage)}))}},{key:"componentDidUpdate",value:function(e,t){var n=this.state,r=n.start,i=n.running,o=n.timeLeft;r&&r!==t.start&&i&&this.tick(),i||i===t.running||(this.setInitialTime(),this.notify()),i&&o!==t.timeLeft&&this.updateTitle()}},{key:"componentWillUnmount",value:function(){var e=this;"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(){navigator.serviceWorker.removeEventListener("message",e.handleMessage)}))}},{key:"render",value:function(){var e=this.state,t=e.running,n=e.timeLeft,r=e.labels,o=e.activeLabel;return i.a.createElement(I,null,i.a.createElement(w,{data:r,activeItem:o}),i.a.createElement(W,{time:n}),t?i.a.createElement(x,{onClick:this.stop},"stop"):i.a.createElement(x,{onClick:this.play},"start"),i.a.createElement("pre",null,JSON.stringify(this.state.messagedata,null,2)))}}]),n}(i.a.PureComponent),M=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function A(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}a.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(g.a,{theme:{color:{primary:"#222",text1:"#999",text2:"#444"},spacing:function(e){return"".concat(.25*e,"rem")}}},i.a.createElement(C,null))),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL(".",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat(".","/sw.js");M?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):A(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):A(t,e)}))}}()}},[[18,1,2]]]);
//# sourceMappingURL=main.3cdb90ad.chunk.js.map